<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ Stripe</title>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <h1>üß™ –¢–ï–°–¢–û–í–ê–Ø –ü–û–ö–£–ü–ö–ê</h1>
    <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç–æ–≤—É—é –ø–æ–∫—É–ø–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ webhook'–∞</p>
    
    <button id="checkout-button">üí≥ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø–æ–∫—É–ø–∫—É</button>
    
    <script>
        const stripe = Stripe('pk_test_51S95aiLGc4AZl8D4sUnxWZkeBmsQzEFOXyxh7LULloE5JcMTHnaBhkpjUaNOdFkkTDisBXDuf09PrhU1PgyxlpXF00wx8RLOpm');
        
        document.getElementById('checkout-button').addEventListener('click', async () => {
            try {
                const response = await fetch('https://stripe-ops.onrender.com/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        price_data: {
                            currency: 'usd',
                            product_data: {
                                name: '–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç',
                            },
                            unit_amount: 100, // $1.00
                        },
                        quantity: 1,
                    }),
                });
                
                const session = await response.json();
                
                const result = await stripe.redirectToCheckout({
                    sessionId: session.id
                });
                
                if (result.error) {
                    console.error('–û—à–∏–±–∫–∞:', result.error.message);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
            }
        });
    </script>
</body>
</html>
